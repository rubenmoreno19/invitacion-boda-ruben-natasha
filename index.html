<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rub√©n & Natasha ‚Äî Invitaci√≥n</title>

  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">

  <meta name="description" content="Invitaci√≥n de boda - Rub√©n & Natasha">

  <!-- ASSETS:
       Aseg√∫rate de subir:
       /images/Boda1.jpg
       /images/Brujula.webp
       /images/Spain.png
       /images/Russia.png
       /images/ceremonia.jpg
       /images/coctel.jpg
       /images/baile.jpg
       /images/fin.jpg
       /audio/myonlyone.mp3
  -->

  <style>
    :root{
      --accent: #b78a6b;
      --accent-dark: #8b5a3f;
      --bg: #faf4ec;
      --card:#fff;
      --text:#3b3029;
      --muted: rgba(0,0,0,0.55);
      --shadow: 0 10px 30px rgba(0,0,0,0.06);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: 'Montserrat', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center;
      padding:18px;
    }

    .wrap{width:100%;max-width:760px}

    /* topbar (flags) */
    .topbar{display:flex;justify-content:center;gap:12px;margin-bottom:12px}
    .lang-btn{
      width:38px;height:38px;border-radius:50%;overflow:hidden;border:2px solid rgba(0,0,0,0.06);cursor:pointer;
      display:inline-flex;align-items:center;justify-content:center;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.06);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .lang-btn img{width:100%;height:100%;object-fit:cover;display:block}
    .lang-btn:active{transform:scale(.98)}

    /* hero */
    .card-hero{background:var(--card);border-radius:16px;overflow:hidden;box-shadow: 0 18px 40px rgba(34,34,34,0.06);border:1px solid rgba(0,0,0,0.03);}
    .hero-img{width:100%;height:280px;object-fit:cover;display:block;}
    .hero-overlay{padding:18px;display:flex;gap:12px;align-items:center;justify-content:space-between;}
    .hero-title{font-family:'Playfair Display',serif;font-size:28px;color:var(--accent-dark);margin: 0;font-weight:bold;}
    .hero-sub{color:var(--muted);font-size:13px;margin-top:6px;font-weight:bold;}

    /* compass */
    .compass-row{display:flex;align-items:center;gap:12px}
    .compass{width:64px;height:64px;border-radius:50%;object-fit:cover;animation:spin 18s linear infinite;border:4px solid #fff;box-shadow:0 6px 20px rgba(0,0,0,0.07)}
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

    /* audio */
    .audio-wrap{padding:12px 18px;border-top:1px dashed rgba(0,0,0,0.04)}
    .audio-mus{font-family:'Playfair Display',serif;font-size:20px;color:var(--accent-dark);margin: 0;font-weight:bold;margin-bottom: 6px;text-align:center;width:100%;}
    audio{width:100%;border-radius:10px;outline:none}

    /* countdown */
    .countdown-wrap{padding:18px;background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,240,0.6));display:flex;gap:10px;justify-content:center;align-items:center;flex-wrap:wrap}
    .cd-item{min-width:70px;padding:8px 12px;border-radius:12px;background:var(--card);box-shadow:0 8px 18px rgba(0,0,0,0.06);border:1px solid rgba(0,0,0,0.04);display:flex;flex-direction:column;align-items:center;gap:6px}
    .cd-item .num{font-family:'Playfair Display',serif;font-size:28px;color:var(--accent-dark);letter-spacing:1px}
    .cd-item small{font-size:11px;color:rgba(0,0,0,0.6);text-transform:uppercase}

    /* actions */
    .actions{padding:16px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center;align-items:center}
    .btn{padding:10px 14px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);background:var(--card);cursor:pointer;font-weight:600}
    .btn.primary{background:var(--accent);color:white;border-color:transparent;box-shadow:0 8px 18px rgba(183,155,107,0.14)}

    /* boarding pass */
    .section{padding:18px;margin-top:14px;}
    .card{background:var(--card);border-radius:12px;padding:12px}
    .ticket{background:linear-gradient(180deg,#fff,#fbf6f2);border-radius:12px;padding:14px;border:1px dashed rgba(0,0,0,0.06);box-shadow:var(--shadow)}
    .ticket h3{font-family:'Playfair Display',serif;margin:0;color:var(--accent-dark);font-size:18px}
    .meta{margin-top:10px;color:rgba(0,0,0,0.6);font-size:14px}
    .ticket hr{border:none;border-top:1px dashed rgba(0,0,0,0.06);margin:12px 0}

    /* TIMELINE: vertical line + dots, responsive-friendly */
    .timeline { position: relative; margin: 20px 0; padding-left: 56px; } /* room for line and time */
    .timeline::before { content: ""; position: absolute; left: 28px; top: 0; bottom: 0; width: 4px; background: var(--accent); border-radius:2px; }
    .timeline-item { position: relative; margin-bottom: 36px; display:flex; gap:16px; align-items:flex-start; opacity:0; transform:translateY(24px); transition: all .6s cubic-bezier(.2,.9,.2,1); }
    .timeline-item.visible{ opacity:1; transform:translateY(0); }
    /* dot */
    .timeline-item::before { content: ""; position:absolute; left:-37.5px; top:8px; width:18px; height:18px; background:var(--card); border-radius:50%; box-shadow:0 0 0 4px var(--accent); border:2px solid white; }
    .timeline-item .time{ font-family:'Playfair Display',serif; font-size:16px; color:var(--accent-dark); min-width:70px; text-align:right; align-self:flex-start; padding-top:6px; }
    .timeline-item .content{ background:var(--card); border-radius:10px; padding:10px 14px; box-shadow:0 6px 16px rgba(0,0,0,0.05); flex:1; }
    .timeline-item img{ width:100%; border-radius:8px; margin-bottom:8px; object-fit:cover; max-height:140px; }
    .timeline-item h4{ margin:4px 0; font-size:16px; color:var(--accent-dark); }
    .timeline-item p{ margin:0; color:var(--muted); font-size:13px; }

    /* MOBILE FIXES:
       We ensure the time sits vertically centered next to the dot and never overlaps.
       On small screens we use a compact layout where the time is visible and the dot aligns.
    */
    @media (max-width: 600px) {
      .timeline { padding-left: 48px; }
      .timeline::before { left: 24px; width: 3px; }
      .timeline-item {
        display: flex;
        align-items: center; /* keep time vertically centered with dot */
        gap: 12px;
        margin-bottom: 36px;
        position: relative;
      }
    /* Alineaci√≥n del punto en la versi√≥n m√≥vil */
      .timeline-item::before {
        left: -33.5px;  /* Ajusta la distancia del punto respecto a la l√≠nea */
        top: 50%;  /* Lo coloca en el centro del item */
        transform: translateY(-50%); /* Lo mantiene centrado verticalmente */
      }  
    /*  .timeline-item::before { left: 6px; top: 50%; transform: translateY(-50%); } /* center dot */
      .timeline-item .time {
        min-width: 56px;
        font-size: 14px;
        text-align: right;
        margin-right: 6px;
        padding-top: 0;
        align-self: center;
      }
      .timeline-item .content { padding:12px; }
    }

    @media(min-width:900px){
      .hero-img{height:380px}
      .hero-title{font-size:30px}
      .cd-item .num{font-size:36px}
	/* ESTILO CALENDARIO */

	/* üé® Estilos del calendario */
	.calendar-section {
	  text-align: center;
	  background-color: #fdfaf6;
	  padding: 3rem 1rem;
	  border-radius: 16px;
	  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
	  margin: 4rem auto;
	  max-width: 500px;
	  font-family: 'Cormorant Garamond', serif;
	}

	.calendar-section h2 {
	  font-size: 2.2rem;
	  font-weight: 600;
	  color: #7a4b2a;
	  margin-bottom: 0.2rem;
	  text-transform: uppercase;
	  letter-spacing: 1px;
	}
	
	.calendar-section h3 {
	  font-size: 1.2rem;
	  font-weight: 500;
	  color: #a67855;
	  margin-bottom: 2rem;
	  text-transform: uppercase;
	  letter-spacing: 1px;
	}
	
	.calendar {
	  display: inline-block;
	  background-color: #f5eee6;
	  padding: 2rem;
	  border-radius: 20px;
	  border: 1px solid #e2d3c2;
	  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
	}
	
	.calendar-header {
	  display: grid;
	  grid-template-columns: repeat(7, 1fr);
	  gap: 0.5rem;
	  font-weight: 600;
	  color: #7a4b2a;
	  font-size: 1rem;
	  margin-bottom: 1rem;
	}
	
	.calendar-days {
	  display: grid;
	  grid-template-columns: repeat(7, 1fr);
	  gap: 0.4rem;
	  font-size: 1rem;
	  color: #6b4b2e;
	}
	
	.calendar-days span {
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  width: 2.5rem;
	  height: 2.5rem;
	  border-radius: 50%;
	  background-color: transparent;
	}
	
	.calendar-days span.empty {
	  visibility: hidden;
	}
	
	.calendar-days span.special-day {
	  position: relative;
	  font-weight: bold;
	  color: #7a4b2a;
	}
	
	.calendar-days span.special-day::before {
	  content: "‚ô°";
	  position: absolute;
	  color: #d4a373;
	  font-size: 1.8rem;
	  top: -0.2rem;
	  left: 50%;
	  transform: translateX(-50%);
	  opacity: 0.8;
	  z-index: -1;
	}
	
	/* üì± Responsive */
	@media (max-width: 480px) {
	  .calendar-section {
	    padding: 2rem 1rem;
	  }
	
	  .calendar {
	    padding: 1rem;
	  }
	
	  .calendar-days span {
	    width: 2rem;
	    height: 2rem;
	    font-size: 0.9rem;
	  }
	
	  .calendar-days span.special-day::before {
	    font-size: 1.4rem;
	  }
	}
	/* FIN ESTILO CALENDARIO */

    }
  </style>
</head>
<body>
  <div class="wrap">

    <!-- BANDERAS OK -->
  <div class="topbar" aria-hidden="false" 
     style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:16px;">
  
  <h3 style="font-family:'Playfair Display',serif;
             color:var(--accent-dark);
             font-size:18px;
             margin:0;">Selecciona el idioma / –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫</h3>
  <div style="display:flex;justify-content:center;gap:12px;margin-top:6px;">
    <div class="lang-btn" id="btn-es" title="Espa√±ol" onclick="setLang('es')">
      <img src="Spain.png" alt="ES">
    </div>
    <div class="lang-btn" id="btn-ru" title="–†—É—Å—Å–∫–∏–π" onclick="setLang('ru')">
      <img src="Russia.png" alt="RU">
    </div>
  </div>
</div>
    <!-- HERO OK-->
    <div class="card-hero">
      <img class="hero-img" src="images/Boda1.jpg" alt="Rub√©n & Natasha">
      <div class="hero-overlay">
        <div style="display:flex;flex-direction:column;align-items:flex-start">
          <div class="hero-title" data-i18n="names">Rub√©n & Natasha</div>
          <div class="hero-sub" data-i18n="subtitle">Este d√≠a del a√±o va a ser muy especial para nosotros. Queremos estar rodeados de las personas m√°s cercanas. Os invitamos a este d√≠a tan importante en nuestra vida: NUESTRA BODA!</div>
        </div>
        <div class="compass-row">
          <img class="compass" src="Brujula.webp" alt="Br√∫jula">
        </div>
      </div>
		
       <!-- AUDIO OK -->
      <div class="audio-wrap">
	      <div style="display:flex;flex-direction:column;align-items:flex-start">
		      <div class="audio-mus" data-i18n="music">Escucha nuestra canci√≥n</div>
        <audio controls preload="none">
            <source src="myonlyone.mp3" type="audio/mpeg">
            Tu navegador no soporta audio.
          </audio>
      </div>

      <!-- COUNTDOWN -->
      <div class="countdown-wrap" aria-live="polite">
        <div class="cd-item"><div class="num" id="cd-days">00</div><small data-i18n="days">D√≠as</small></div>
        <div class="cd-item"><div class="num" id="cd-hours">00</div><small data-i18n="hours">Horas</small></div>
        <div class="cd-item"><div class="num" id="cd-minutes">00</div><small data-i18n="minutes">Minutos</small></div>
        <div class="cd-item"><div class="num" id="cd-seconds">00</div><small data-i18n="seconds">Segundos</small></div>
      </div>

      <!-- ACTIONS -->
      <div class="actions">
        <a class="btn primary" href="https://forms.gle/Y3iuPmjdmrtKARxb8" target="_blank" rel="noopener" data-i18n="rsvp">Confirmar asistencia</a>
        <button class="btn" onclick="openGoogleCalendar()" data-i18n="add_gcal">Google Calendar</button>
        <button class="btn" onclick="downloadICS()" data-i18n="add_ical">A√±adir a Outlook/iOS</button>
      </div>
    </div>

	<!-- SECCION CALENDARIO -->
		
		<!-- üóìÔ∏è SECCI√ìN CALENDARIO -->
	<section id="calendario" class="calendar-section">
	  <h2 data-lang="el-gran-dia">El Gran D√≠a</h2>
	  <h3 data-lang="mes-ano">Julio 2026</h3>
	
	  <div class="calendar">
	    <div class="calendar-header">
	      <span data-lang="lun">LUN</span>
	      <span data-lang="mar">MAR</span>
	      <span data-lang="mie">MIE</span>
	      <span data-lang="jue">JUE</span>
	      <span data-lang="vie">VIE</span>
	      <span data-lang="sab">SAB</span>
	      <span data-lang="dom">DOM</span>
	    </div>
	    <div class="calendar-days">
	      <!-- Primera fila -->
	      <span class="empty"></span>
	      <span class="empty"></span>
	      <span class="empty"></span>
	      <span class="1">1</span>
	      <span>2</span>
	      <span>3</span>
	      <span>4</span>
	
	      <!-- Segunda fila -->
	      <span>5</span>
	      <span>6</span>
	      <span>7</span>
	      <span>8</span>
	      <span>9</span>
	      <span>10</span>
	      <span>11</span>
	
	      <!-- Tercera fila -->
	      <span>12</span>
	      <span>13</span>
	      <span>14</span>
	      <span>15</span>
	      <span>16</span>
	      <span>17</span>
	      <span>18</span>
	
	      <!-- Cuarta fila -->
	      <span>19</span>
	      <span>20</span>
	      <span>21</span>
	      <span class="special-day">22</span>
	      <span>23</span>
	      <span>24</span>
	      <span>25</span>
	
	      <!-- Quinta fila -->
	      <span>26</span>
	      <span>27</span>
	      <span>28</span>
	      <span>29</span>
	      <span>30</span>
	      <span>31</span>
	      <span class="empty"></span>
	    </div>
	  </div>
	</section>

	<!-- FIN SECCION CALENDARIO -->
	
    <!-- BOARDING PASS -->
    <section class="section">
      <div class="card">
        <div class="ticket" id="details-ticket">
          <!-- Contenedor de BOARDING PASS y N¬∫ VUELO con flex-direction: column -->
          <div style="display:flex; flex-direction:column; align-items:center; text-align:center;">
           <!--<div style="display:flex; flex-direction:column; align-items:flex-start; gap:4px;"> <!--
        <!-- T√≠tulo BOARDING PASS -->
            <h3 data-i18n="bp_title">BOARDING PASS</h3>
        <!-- N√∫mero de vuelo debajo del t√≠tulo -->
          <div class="meta" data-i18n="bp_flight">RN ‚Ä¢ 22/07/2026</div>
      </div>

        <hr style="border:none;border-top:1px dashed rgba(0,0,0,0.06);margin:12px 0"/>

          <div class="row" style="display:flex; flex-direction:column; gap:8px;">
            <div>
              <strong data-i18n="place_label">Ubicaci√≥n</strong>
              <div class="meta" data-i18n="place_value">San Petersburgo (Rusia)</div>
            </div>
            <div>
              <strong data-i18n="date_label">Fecha y hora</strong>
              <div class="meta" data-i18n="date_value">22/07/2026 ‚Äî 16:00</div>
            </div>
          </div>

          <div style="height:8px"></div>

          <div class="row" style="display:flex; flex-direction:column; gap:8px;">
            <div>
              <strong data-i18n="bp_destination_label">Destino</strong>
              <div class="meta" data-i18n="bp_destination_value">Royal Beach (San Petersburgo, Rusia)</div>
            </div>
            <div>
              <strong data-i18n="note_label">Nota</strong>
              <div class="meta" data-i18n="note">Por favor confirma asistencia antes del 01/02/2026.</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- TIMELINE -->
    <section class="section">
      <div class="ticket">
        <h3 style="text-align:center;font-family:'Playfair Display',serif;color:var(--accent-dark);margin-bottom:24px;" data-i18n="timeline_title">Cronograma del D√≠a</h3>

        <div class="timeline">
          <div class="timeline-item">
            <div class="time">16:00</div>
            <div class="content">
              <img src="images/ceremonia.jpg" alt="Ceremonia">
              <h4 data-i18n="t1_title">Ceremonia</h4>
              <p data-i18n="t1_text">El momento m√°s especial ‚Äî ¬°decimos s√≠ quiero!</p>
            </div>
          </div>

          <div class="timeline-item">
            <div class="time">17:30</div>
            <div class="content">
              <img src="images/coctel.jpg" alt="C√≥ctel">
              <h4 data-i18n="t2_title">C√≥ctel</h4>
              <p data-i18n="t2_text">Brindis junto al mar con aperitivos y m√∫sica suave.</p>
            </div>
          </div>

          <div class="timeline-item">
            <div class="time">19:00</div>
            <div class="content">
              <img src="images/baile.jpg" alt="Baile">
              <h4 data-i18n="t3_title">Baile</h4>
              <p data-i18n="t3_text">¬°A disfrutar la pista con nuestros mejores pasos!</p>
            </div>
          </div>

          <div class="timeline-item">
            <div class="time">23:00</div>
            <div class="content">
              <img src="images/fin.jpg" alt="Fin de la fiesta">
              <h4 data-i18n="t4_title">Fin de la fiesta</h4>
              <p data-i18n="t4_text">Despedida con fuegos artificiales y dulces recuerdos.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- INFO EXTRA -->
    <section class="section">
      <div class="ticket">
        <h3 data-i18n="more_title">Informaci√≥n importante</h3>
        <p class="meta" data-i18n="more_text">Aqu√≠ puedes a√±adir instrucciones sobre transporte, alojamiento o dress code.</p>
      </div>
    </section>

  </div>

  <script>
    /* ===========================
       TRANSLATIONS ES / RU
       =========================== */
    const TEXTS = {
      es: {
        names: 'Rub√©n & Natasha',
        subtitle: 'Este d√≠a del a√±o va a ser muy especial para nosotros. Queremos estar rodeados de las personas m√°s cercanas. Os invitamos a este d√≠a tan importante en nuestra vida: NUESTRA BODA!',
        music: 'Escucha nuestra canci√≥n',
        days: 'D√≠as', hours: 'Horas', minutes: 'Minutos', seconds: 'Segundos',
        rsvp: 'Confirmar asistencia', add_gcal: 'Google Calendar', add_ical: 'A√±adir a Outlook/iOS',
        bp_title: 'BOARDING PASS', bp_flight: 'RN ‚Ä¢ 22/07/2026',
        place_label: 'Ubicaci√≥n', place_value: 'San Petersburgo (Rusia)',
        date_label: 'Fecha y hora', date_value: '22/07/2026 ‚Äî 16:00',
        bp_destination_label: 'Destino', bp_destination_value: 'Royal Beach, San Petersburgo (Rusia)',
        note_label: 'Nota', note: 'Por favor confirma asistencia antes del 01/02/2026.',
        timeline_title: 'Cronograma del D√≠a',
        t1_title: 'Ceremonia', t1_text: 'El momento m√°s especial ‚Äî ¬°decimos s√≠ quiero!',
        t2_title: 'C√≥ctel', t2_text: 'Brindis junto al mar con aperitivos y m√∫sica suave.',
        t3_title: 'Baile', t3_text: '¬°A disfrutar la pista con nuestros mejores pasos!',
        t4_title: 'Fin de la fiesta', t4_text: 'Despedida con fuegos artificiales y dulces recuerdos.',
        more_title: 'Informaci√≥n importante', more_text: 'Aqu√≠ puedes a√±adir instrucciones sobre transporte, alojamiento o dress code.'
      },
      ru: {
        names: '–†—É–±–µ–Ω & –ù–∞—Ç–∞—à–∞',
        subtitle: '–û–¥–∏–Ω –¥–µ–Ω—å –≤ —ç—Ç–æ–º –≥–æ–¥—É –±—É–¥–µ—Ç –¥–ª—è –Ω–∞—Å –æ—Å–æ–±–µ–Ω–Ω—ã–º –∏ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–≤–µ—Å—Ç–∏ –µ–≥–æ –≤ –∫—Ä—É–≥—É –±–ª–∏–∑–∫–∏—Ö –∏ –¥—Ä—É–∑–µ–π! –° –±–æ–ª—å—à–∏–º —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –ø—Ä–∏–≥–ª–∞—à–∞–µ–º –í–∞—Å –Ω–∞ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏–∫- –ù–ê–®–£ –°–í–ê–î–¨–ë–£!',
        music: '–ü–æ—Å–ª—É—à–∞–π—Ç–µ –Ω–∞—à—É –ø–µ—Å–Ω—é',
        days: '–î–Ω–µ–π', hours: '–ß–∞—Å–æ–≤', minutes: '–ú–∏–Ω—É—Ç', seconds: '–°–µ–∫—É–Ω–¥',
        rsvp: '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —É—á–∞—Å—Ç–∏–µ', add_gcal: 'Google –ö–∞–ª–µ–Ω–¥–∞—Ä—å', add_ical: '–î–æ–±–∞–≤–∏—Ç—å –≤ Outlook/iOS',
        bp_title: '–ü–û–°–ê–î–û–ß–ù–´–ô –¢–ê–õ–û–ù', bp_flight: 'RN ‚Ä¢ 22/07/2026',
        place_label: '–ú–µ—Å—Ç–æ', place_value: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (–†–æ—Å—Å–∏—è)',
        date_label: '–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è', date_value: '22/07/2026 ‚Äî 16:00',
        bp_destination_label: '–ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è', bp_destination_value: 'Royal Beach, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (–†–æ—Å—Å–∏—è)',
        note_label: '–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ', note: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É—á–∞—Å—Ç–∏–µ –¥–æ 01/02/2026.',
        timeline_title: '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–Ω—è',
        t1_title: '–¶–µ—Ä–µ–º–æ–Ω–∏—è', t1_text: '–°–∞–º—ã–π –æ—Å–æ–±–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî –º—ã –≥–æ–≤–æ—Ä–∏–º ¬´–¥–∞¬ª!',
        t2_title: '–ö–æ–∫—Ç–µ–π–ª—å', t2_text: '–¢–æ—Å—Ç—ã —É –º–æ—Ä—è —Å –∑–∞–∫—É—Å–∫–∞–º–∏ –∏ –º—è–≥–∫–æ–π –º—É–∑—ã–∫–æ–π.',
        t3_title: '–¢–∞–Ω—Ü—ã', t3_text: '–ù–∞—Å–ª–∞–∂–¥–∞–µ–º—Å—è —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–æ–π –∏ –Ω–∞—à–∏–º–∏ –ª—É—á—à–∏–º–∏ –ø–∞!',
        t4_title: '–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞', t4_text: '–ü—Ä–æ—â–∞–Ω–∏–µ —Å —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞–º–∏ –∏ —Å–ª–∞–¥–∫–∏–º–∏ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏.',
        more_title: '–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è', more_text: '–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É, –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—é –∏–ª–∏ –¥—Ä–µ—Å—Å-–∫–æ–¥—É.'
      }
    };

    /* Apply translations + highlight */
    let currentLang = (navigator.language && navigator.language.startsWith('ru')) ? 'ru' : 'es';

    function applyLang(lang){
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(TEXTS[lang] && TEXTS[lang][key]) el.textContent = TEXTS[lang][key];
      });
    }

    function highlightLangButton(){
      const esBtn = document.getElementById('btn-es');
      const ruBtn = document.getElementById('btn-ru');
      if(!esBtn || !ruBtn) return;
      if(currentLang === 'es'){
        esBtn.style.boxShadow = '0 10px 26px rgba(139,94,80,0.18)';
        esBtn.style.transform = 'scale(1.04)';
        ruBtn.style.boxShadow = '0 6px 18px rgba(0,0,0,0.06)';
        ruBtn.style.transform = 'scale(1)';
      } else {
        ruBtn.style.boxShadow = '0 10px 26px rgba(139,94,80,0.18)';
        ruBtn.style.transform = 'scale(1.04)';
        esBtn.style.boxShadow = '0 6px 18px rgba(0,0,0,0.06)';
        esBtn.style.transform = 'scale(1)';
      }
    }

    function setLang(lang){
      currentLang = lang;
      applyLang(lang);
      highlightLangButton();
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      applyLang(currentLang);
      highlightLangButton();
    });

    /* ===========================
       COUNTDOWN
       =========================== */
    const weddingDate = new Date("2026-07-22T16:00:00+03:00").getTime();
    function updateCountdown(){
      const now = Date.now();
      const dist = weddingDate - now;
      if(dist < 0){
        document.getElementById('cd-days').textContent='00';
        document.getElementById('cd-hours').textContent='00';
        document.getElementById('cd-minutes').textContent='00';
        document.getElementById('cd-seconds').textContent='00';
        return;
      }
      document.getElementById('cd-days').textContent = String(Math.floor(dist/(1000*60*60*24))).padStart(2,'0');
      document.getElementById('cd-hours').textContent = String(Math.floor((dist%(1000*60*60*24))/(1000*60*60))).padStart(2,'0');
      document.getElementById('cd-minutes').textContent = String(Math.floor((dist%(1000*60*60))/(1000*60))).padStart(2,'0');
      document.getElementById('cd-seconds').textContent = String(Math.floor((dist%(1000*60))/1000)).padStart(2,'0');
    }
    updateCountdown();
    setInterval(updateCountdown,1000);

    /* ===========================
       Calendar helpers (Google + ICS)
       =========================== */
    function pad(n){return String(n).padStart(2,'0');}
    function toUTCStringForGoogle(d){
      const yyyy = d.getUTCFullYear();
      const mm = pad(d.getUTCMonth()+1);
      const dd = pad(d.getUTCDate());
      const hh = pad(d.getUTCHours());
      const min = pad(d.getUTCMinutes());
      const ss = pad(d.getUTCSeconds());
      return `${yyyy}${mm}${dd}T${hh}${min}${ss}Z`;
    }

    const event = {
      title: "Boda ‚Äî Rub√©n & Natasha",
      description: "¬°Ven a celebrar con nosotros! Por favor confirma asistencia.",
      location: "Royal Beach, San Petersburgo",
      start: new Date(2026,6,22,16,0,0),
      end: new Date(2026,6,22,23,0,0)
    };

    function openGoogleCalendar(){
      const s = toUTCStringForGoogle(event.start);
      const e = toUTCStringForGoogle(event.end);
      const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(event.title)}&dates=${s}/${e}&details=${encodeURIComponent(event.description)}&location=${encodeURIComponent(event.location)}`;
      window.open(url,'_blank');
    }

    function downloadICS(){
      function toICSDate(d){
        return `${d.getFullYear()}${pad(d.getMonth()+1)}${pad(d.getDate())}T${pad(d.getHours())}${pad(d.getMinutes())}00`;
      }
      const icsLines = [
        'BEGIN:VCALENDAR',
        'VERSION:2.0',
        'PRODID:-//Rub√©n&Natasha//Boda//ES',
        'CALSCALE:GREGORIAN',
        'BEGIN:VEVENT',
        `UID:${Date.now()}@boda`,
        `DTSTAMP:${toICSDate(new Date())}`,
        `DTSTART:${toICSDate(event.start)}`,
        `DTEND:${toICSDate(event.end)}`,
        `SUMMARY:${event.title}`,
        `DESCRIPTION:${event.description}`,
        `LOCATION:${event.location}`,
        'END:VEVENT',
        'END:VCALENDAR'
      ].join('\r\n');
      const blob = new Blob([icsLines],{type:'text/calendar'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'boda-ruben-natasha.ics'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }

    /* ===========================
       TIMELINE APPEAR ON SCROLL
       =========================== */
    const timelineObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting) entry.target.classList.add('visible');
      });
    },{threshold:0.18});

    document.addEventListener('DOMContentLoaded', ()=>{
      document.querySelectorAll('.timeline-item').forEach(item=>timelineObserver.observe(item));

      // keyboard accessibility for flags
      document.querySelectorAll('.lang-btn').forEach(btn=>{
        btn.setAttribute('tabindex','0');
        btn.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter' || e.key === ' ') btn.click();
        });
      });
    });

    /* End script */
  </script>
</body>
</html>
